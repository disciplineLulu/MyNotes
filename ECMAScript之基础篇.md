# ECMAScript

## 最初的javeScript

​	用于判断客户端的输入（表单校验）

## 现在的javeScript（无所不能）

- 网页和特效（演示）
- 异步域服务器交互（ajax）
- 服务端开发（node.js）
- 命令行工具开发（node.js）
- 桌面程序（Electron）
- ａｐｐ开发（ReatNative）
- 控制硬件－－物联网（ruff）
- 游戏开发（canvans，cocos2d.js）

## 神马是ｊａｖｅＳｃｒｉｐｔ？

​	javeScript是一种运行在客户端的脚本语言
​	客户端：相对与服务器而言的；移动客户端＋ＰＣ客户端（浏览器）
​	脚本语言
​		编译语言：如jave/c/c++/c#．．
​			运行代码之前，把所有的代码先编译一遍，在运行一边代码
​		脚本语言：如javescript/php/python...
​			运行一行执行一行，不需要提前编译，非编译语言

## javeScript的历史

​	1995年，Netscape(网景)公司的Brendan Eich(布兰登·艾奇)（伊利诺伊大学香槟分校），花了10天时间为Netscape Navigator2.0开发了一个位置为LiveScript的脚本程序，目的是在浏览器中执行预检测程序（表单校验）
​	后来Netscape在与Sun合作之后将其改名为JavaScript。目的是为了利用 Java 这个因特网时髦词汇。
​	微软发布了 IE 3.0 并搭载了一个 JavaScript 的克隆版，叫做 JScript（这样命名是为了避免与 Netscape 潜在的许可纠纷）
​	三足鼎立阶段：
​	CEnvi的scriptEase

​	Netscape的JavaScript

​	IE的JScript
标准化阶段：1997年，ECMA（欧洲计算机制造商协会）邀请了Netscape、Sun、微软、Borland等公司的一些程序员组成了TC39，最终锤炼出来了ECMA-262，该标准定义了一门全新的脚本语言，名为ECMAScript。

## javeScript的组成

​	1.ECMAScript --javeScript的核心,ECMAScript是一套标准,规范啦语言的基本语法和数据类型,定义啦一种语法的标准,与具体实现无关.
​	2.DOM:(Document Object Mode )一套操作网页元素的API(方法)
​	3.BOM:(Browser Object Mode)一套操作浏览器的API

## 输出语句(5种)

​	1.alert();  警告框
​	2.confirm();  确认框
​	3.prompt();  输入框
​	4.document.write  页面输出
​	5.console.log  控制台输出

## 变量

​	变量需要先声明再赋值,才能使用   javescript代码一旦报错  下边的代码就不执行啦
​	变量的声明规则和规范

### 规则

​	1.由字母,数字,下划线,$符号组成
​	2.不能以数字开头
​	3.区分大小写
​	4.不能是关键字和保留字

### 规范

​	变量名要有意义
​	遵守驼峰法  即大驼峰和小驼峰  变量名为小驼峰    函数用大驼峰

## 流程控制

​	树状图-----高中学的...初中貌似也有唉....类似的东西

## 分支语句

### IF语句

- ​		if...else单循环
- ​		if...else...if...else...if...   多层循环
- ​		适用于范围的判断

### 三元运算符

​	条件 ? 值1 : 值2    /*或者*/   条件 ? 表达式1 : 表达式2  

1. 三元运算符会得到一个结果，结果根据`条件`来确定。
2. 如果`条件`的值为true，会返回表达式1的值/值1
3. 如果`条件`的值为false，会返回表达式2的值/值2

### switch语句

适用于具体值的判断

```
switch (变量) {
  case 值1:
    语句1;
    break;
  case 值2:
    语句2;
    break;
  case 值3:
    语句3;
    break;
  …
  default:
    默认语句;
    break;
}


```

注意break的使用,不要瞎鸡巴省,顶不住就不要懒,都写上就对啦!(滑稽脸)

### 使用范围(建议,你懂得)

1. 如果是范围性的判断，使用if..else会更加方便
2. 如果是对具体值的判断，使用switch..case语句会更加方便，当然用if..else也是可以的。
3. 如果if..else比较简单，可以使用三元运算符进行替代。

## 循环语句

### while循环

```
//当循环条件为true时，执行循环体，
//当循环条件为false时，结束循环。
while(循环条件){
  //循环体：需要循环执行的语句
}
```

### do.....while循环

```
do {
    //循环体;
}while(条件)
```

### for循环

```
//1. for循环使用分号分隔
//2. for循环有2个分号，两个分号不能少
for(初始化语句;判断语句;自增语句){
  //循环体
}
```

## break和continue的使用

1. break不要瞎鸡巴用,用错就哭啦,真的!
2. continue是跳出本次循环,貌似for循环便利判断时用的比较多

## 总结

1. 循环有点多,但是还是for循环用的比较多,dowhile和while各有其缺点,适用性感觉不高
2. 当不明循环次数的时候可以用while循环
3. 当无论如何都要先执行一次代码时,可以使用do...while循环
4. 循环可以互相代替,但是是吧,还是for循环比较受宠一些
5. 当然,还有一些es5的循环手法,更鸡巴好用,以后zaixie

## 数据类型

​	数据的值可能是一串数字   也有可能是一串字符串 等等  为啦更多的分类,可以更轻松的处理不同的数据

### 简单数据类型

​	也叫值类型,在存储时存的是值本身

#### number  数字类型

##### 		进制值

​		十进制
​		八进制
​		十六进制
​	所有的计算机代码都会转成二进制,计算机只认识二进制

##### 	浮点数

​		 即小数，浮点数存在精度丢失问题

##### 	整数

#### string 字符串类型

即使用双引号或者单引号包裹起来的字符，每个字符串都有一个长度单位----length属性。
"\"为转义字符，"+"具有拼接字符串的功能,任何值与字符串相加都等于字符串。

#### boolean  布尔类型

只有两个值  true为真 false为假

#### undefined  声明未赋值

表示一个没有赋值的变量

#### null   空类型

表示一个空对象    其实应该为number类型  但因为历史遗留问题  typeof解析为object

### 复杂数据类型

也叫引用类型,在存储时存储的时地址

#### array  数组类型

所谓数组,就是将多个元素(通常为同一类型),按照一定的顺序放在一个集合里
特点:有长度,有顺序,没错,他和自负创一样有长度属性
用途:存储大量的数据

##### 创建数组的方式

###### 1.构造函数

​	var arr = new Array(参数)
​		参数可传可不传
​			不传即创建一个恐怕空数组
​			传多个参数,即创建啦一个有这些参数的数组
​			如果只传拉一个参数,且为整数,即创建啦一个长度为x的数组,但值都为undefined

###### 2.数组字面量

​	var arr = []

###### 长度

和字符串是一样的

###### 下标

数组的下标是从0开始的,所以要取到数组的具体值的坐标为arr.length-1

###### 数组的遍历

对数组的每一个元素进行访问一次就叫遍历,用for循环来对数组进行遍历

#### function  函数

##### 为神马会有函数?

有一些代码在需要时要进行多次的使用,然而多次书写就会造成代码重复,冗余
​	代码重复时,可阅读性差
​	不易维护,如逻辑变更,所有的代码都要进行变更

##### 函数三要素

###### 函数名

​	函数的声明和调用
​		看注释
​	函数声明的时候,函数题不会执行,函数体只有在调用的时候才会执行
​	函数可以调用多次

###### 函数的参数

​	形参
​		在函数声明时,跟在函数名后括号内的参数名即为形参
​		可以有多个形参
​		只能在函数内部使用
​	实参
​		在函数执行时,在括号内传如的参数即为实参
​	注意
​		形参在声明的时候只是不固定的,只有再调用的时候,形参的值才确定,形参的值会跟着函数调用时的实参不一样而不一样
​		在声明函数的时候,碰到不确定的值的时候,就可以定义成形参

###### 函数的返回值

​	当函数执行之后,如果我们希望函数返回一些值,这个时候,我们就可以使用return来返回值
​	注意事项
​		return后面的语句不会执行
​		函数可以没有返回值,函数如果没有return,那么返回结果是undefined
​		函数的参数可以有多个,但函数只有一个

###### 递归函数

一句话总结   找规律,找出口
在函数的内部可以调用别的函数
函数也可以作为参数传递给别的函数,被称为回调函数
​	函数也可以作为返回值

###### eval函数----了解

eval的可以和new Function一样，执行字符串代码
值得注意的是,eval函数虽然功能强大,但实际应用却不多
​	1.代码难以阅读
​	2.代码无法打断点,其本质还是一个字符串
​	3.在浏览器端执行任意的javescript会带来潜在的安全风险,恶意的javescript代码会破坏应用,特别是在用执行用户输入数据情况下.否则,可能会有恶意用户输入威胁你的站点或应用程序安全的代码(即所谓的代码注入)
​		推荐了解下xss攻击
​			

##### 上下文调用模式

​	也叫方法借用,只有两种方法常用

###### 	1.call()

​		使用方法  fn.call(thisArg, arg1, arg2, arg2...);

###### 	2.apply()

​		使用方法 fn.apply(thisArg, [arg1, arg2, arg2...]);
​		指两个方法的相同点都是改变this的指向,不同点是传参列表不同
​		call方法是传入一系列的参数
​		而apply方法传入的是一个数组

###### 	bind()方法

bind方法创建一个新的函数,可以绑定新的函数的this指向

```
//返回值：新的函数
//参数：新函数的this指向，当绑定了新函数的this指向后，无论使用何种调用模式，this都不会改变。
var newFn = fn.bind(window);
```

#### 	object  对象

##### 	神马是对象

​		在现实生活中,万物皆对象
​		对象是一个具体的事物,一个具体的事物就会有  特征和行为
​		js中的对象就是生活中对象的一个抽象...没有特征和行为,取而代之的是属性和方法
​		是一个无序的键值对的集合
​		对象用无序的键值对存放一组无序的数组,比如一个人的行为和特征

##### 	创建对象

###### 		1.对象字面量

```
var p = {};
var p = {
    name : 'zs',
    age:18,
    sayHi:function(){
        console.log(this.name)
    }
}
```



###### 		2.通过Object构造函数创建

```
var p =  new Object(); // 创建一个空的对象
var p =  new Object({name :'xx'});
```



###### 		3.函数工厂

​			优点:可以同时创建多个对象
​			缺点:创建出来的对象没有具体的类型,都是object类型

```
//例如
定义一个函数，用于创建学生对象
  //工厂函数：
  function createStudent(name, age, sex) {
    //1.创建空对象
    var stu = {};
    //2. 赋值
    stu.name = name;
    stu.age = age;
    stu.sex = sex;
    stu.sayHi = function() {
      console.log("大家好,我是"+this.name);
    }
    //3 . 返回
    return stu;
  }

  var stu1 = createStudent("zs", 18, "男");
  stu1.sayHi();
```



###### 		4.自定义构造函数

​		构造函数是一种特殊的函数,主要用来在创建对象时初始化对象,即为对象成员变量赋初始值,总与new运算符一起使用在创建对象的语句中.

```
//所有创建出来的对象都有：
    //name
    //age
    //hobboy
  function Teacher(name, age) {
    //构造函数内部的this指向的是新创建的那个对象
    this.name = name;
    this.age = age;
  }

  var tea = new Teacher("zs", 18);
  console.log(tea);
```



###### 		注意

​		1.构造函数的首字母要大写
​		2.构造函数要于new一起使用才有意义
​		3.构造函数的作用时用于实例化一个对象,即给对象添加属性和方法

##### 删除对象的属性

​	delete obj.name;//删除obj的name属性

##### 查看一个对象的类型

​		typeof  只能判断基本的数据类型的类型
​		instanceof  判断对象的具体类型
​		constructor.name  也可以获取到对象的具体类型

##### 关于new的执行

​		1.new会创建一个新的对象,类型是object
​		2.new会让this指向这个新的对象
​		3.执行构造函数  目的是为啦给这个新对象加属性和方法
​		4.new会返回这个新对象

##### 对象的遍历

​	使用for...in语法来遍历对象
​		

```
for (var key in obj) {
    //  key是 键 
    console.log(key);
    // 值
    console.log(obj[key]);
}
```

​	判断一个属性是否在这个对象内也用in语法(不常用)
​			

```
if (属性名  in  对象) { .. }
```

​	获取对象内的所有属性(不常用了解即可)
​		

```
// 结构 :   Object.keys(对象)
Object.keys(obj)
```



#### 数组与伪数组

​	数组就不说啦,自己去复杂数据类型里边翻着看吧
​	伪数组也叫类数组
​	伪数组其实就是一个对象,但是跟数组一样,伪数组也会有length属性,也有下标
​	伪数组并没有数组的方法,不能使用push/pop等方法
​	伪数组可以跟数组一样进行遍历,通过下表操作
​	常见的伪数组
​	arguments、document.getElementsByTagName的返回值、jQuery对象

#### 额外NAN  


​	翻起脸连自己都不认的疯子数值   NAN不等于NAN
​	可以通过isNAN()来判断是否是一个数值,返回false的时候,表示是一个数字

#### 补充

​	字面量赋值
​		字面量也叫直接量,值是固定不变的,浏览器可以直接使用
​	变量赋值
​		浏览器必须要经过声明之后,才认识变量,如果没有经过声明,直接使用变量会报错

### 类型转换

#### 为什么要进行类型转换

​	服务器拿回来的数据有可能是字符串,这时就需要将其转换成我们需要的类型

#### 查看变量的类型

​	typeof可以查看数据的类型

#### 转换成number类型

##### 1.Number()

​	Number()可以将任意值转换成数值类型,但如果字符串中又不是数字的字符,返回NANA

##### 2.

​	parseInt()		把整数或者小数都转换为整数
​	parseFloat()	把整数转换成整数,小数化成小数

#### 3.算术运算符

​	最常用,

#### 转换成字符串--string

##### 1.toString()

​	所有的数据都会有tostring方法

##### 2.string()

```
var num = 5;
	num = String(num);
	console.log(num);
```

##### 3.拼串

​		+""

#### 转换成boolean类型

​	所有值都可以转换成布尔类型
​	只有0,"",undefined,null,false,NAN,这几个值可以转换成false,其他值都为true

### 操作符

#### 算术运算符

/   % + - *
%为取余

#### 赋值运算符

=   +=   -=  *=  /=   %=

#### 一元运算符

只有一个操作数的运算符

#### 二元运算符

有两个操作数的运算符,比如算术运算符,赋值运算符

#### 自增运算符

##### ++

先自增
​	++i   +在前,先自增,再使用
​	i++  +在后,先使用,再自增

#### 逻辑运算符

##### ||  或

​	其中一个为真   即为真

##### &&  且

​	两边都为真才为真

##### !  非

​	取反

#### 比较运算符

<  >=  <=  == !=  ===  !===
也叫关系运算符,运算的结果为boolean类型

##### 比较运算符规则

1. NaN不等于任何值,包括NaN本身
2. null不等于任何值，除了null和undefined
3. undefined不等于任何值，除了undefined和null
4. 如果操作符两边有数字，那么两边都转换成数字进行比较。
5. 如果操作符两边有布尔类型，那么两边都转换成数值进行比较。
6. 如果操作符有字符串，那么两边都转换成字符串比较。如果两边都是对象，那么直接比地址（引用）。



#### 运算符优先级

()最高,然后是一元运算符(++,--,!),再然后是算术运算符(数学原则)先乘除后加减,在后是比较运算符,最后是赋值运算符
​
